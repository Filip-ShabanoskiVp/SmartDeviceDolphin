<!DOCTYPE html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://maxcdn.bootstrapcdn.com;
        ;script-src 'self' 'unsafe-eval' 'unsafe-inline' https://ssl.gstatic.com;media-src *;script-src 'self' 'unsafe-eval' https://code.jquery.com 'unsafe-inline';
         img-src 'self' data: content:;">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
        <meta name="color-scheme" content="light dark">
        <link rel="icon" href="favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/index.css">
        <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" 
        integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">  -->
        <!-- <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" /> -->
        <link rel="stylesheet" type="text/css" href="css/4.0.0-alpha.2-bootstrap.min.css" />
        <title>Попис</title>
    </head>
    <body style="background-color:white" id="myBody">
        <div class="navbar navbar-fixed-top">
            <div class="dropdown">
              <button id="menuToShow" class="dropbtn">Мени 
                <i class="fa fa-caret-down"></i>
              </button>
            </div> 
          </div>
          <div class="container">
            <div class="row card-container" style="display: block;position:relative;right:22px" id="homePage">
                <div class="col card">
                    <div class="card-content">
                        <h3>Основни Сретства</h1>
                        <hr/>
                        <form>
                            <label>Баркод / Шифра на Сретства:</label> 
                                <input class="form-control" type="text" name="barkod" id="barkod" />
                        </form>
                            <div style="margin-top: 10px;">
                                <button class="btn btn-primary" id="btnScan">Скенирај</button>
                                <button class="btn btn-info" id="btnSearch">Пребарај</button>
                            </div>
                        <div id="result"></div><br><br>
                        <div>
                            <button disabled class="btn btn-info" style="opacity: 0.5;" id="btnConfirm">Внеси во попис / Потврди</button></div><br><br>
                        </div>
                        <hr/>
                        <div>
                            <button disabled style="opacity: 0.5;" class="btn btn-warning btn-lg btn-block" id="btnInsertNew">Внеси во попис нов</button>
                        </div>
                    </div>
                </div>
            </div> 
            <div>
                <div id="custom-dialog" style="display: none;margin-top:25px">
                    <button id="btnLoad" class="btn btn-primary btn-lg btn-block">Вчитај фајл со средства од диск</button><br>
                    <button id="btnLoadLocations"  class="btn btn-primary  btn-lg btn-block">Вчитај фајл со локации од диск</button><br>
                    <button id="btnReview"  class="btn btn-primary  btn-lg btn-block">Прегледи</button><br>
                    <button id="btnReset"  class="btn btn-primary  btn-lg btn-block">Ресетирај попис на ново</button><br>
                    <button id="btnSaveOnDisk"  class="btn btn-primary  btn-lg btn-block">Запиши попис на диск</button><br>
                    <button id="btnSretstva"  class="btn btn-primary  btn-lg btn-block">Основни Сретства</button><br>
                    <button id="btnPopisNov"  class="btn btn-primary  btn-lg btn-block">Попис нов</button><br>
                    <button id="btnClose"  class="btn btn-primary  btn-lg btn-block">Излез</button><br>
                </div>
            </div>
            <div>
                <div id="custom-dialogIsert" style="display: none;">
                    <h3>Внес на ново сретство</h3>
                    <label>Артикл Шифра:</label>
                    <input class="form-control" type="text" name="shifra"  id="shifra"/>
                    <label>Назив</label>
                    <textarea id="naziv" class="form-control"></textarea><br>
                    <select id="lokacija" class="form-control">
                    </select><br>
                    <button class="btn btn-primary" id="insertNew">Внеси во попис како ново</button>
                    <button style="margin-top: 5px;" id="insertClose" class="btn btn-danger">Излез</button>
                </div>
                <div id="alertNaziv" style="display: none;position: absolute;z-index: 15;top: 35%;
             left: 50%; margin: -100px 0 0 -150px;">
             <div class="card-container" style="width: 300px;">
                <div class="col card">
                    <div class="card-content">
                          <p>Мора да внесете назив на основното средство</p>
                          <button class="btn btn-primary" id="closeNaziv">Затвори</button>
                    </div>
                </div>
             </div>
             </div>
                <div id="alertShifra" style="display: none;position: absolute;z-index: 15;top: 35%;
                left: 50%; margin: -100px 0 0 -150px;">
                <div class="card-container" style="width: 300px;">
                    <div class="col card">
                        <div class="card-content">
                            <p>Мора да внесете шифра на основното средство</p>
                            <button class="btn btn-primary" id="closeShifra">Затвори</button>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div id="confirmAlert" style="display: none;position: absolute;z-index: 15;top: 35%;
            left: 50%; margin: -100px 0 0 -150px;">
            <div class="card-container" style="width: 300px;">
                <div class="col card">
                    <div class="card-content">
                        <p>Дали навистина сакате да го ресетирате фајлот за нов попис и да започнете на ново ?</p>
                        <button class="btn btn-danger" id="btnNo">Не</button>
                        <button class="btn btn-primary" id="btnYes">Да</button>
                    </div>
                </div>
            </div>
            </div>
            <div id="confirmDeleteAlert" style="display: none;position: absolute;z-index: 15;top: 35%;
            left: 50%; margin: -100px 0 0 -150px;">
            <div class="card-container" style="width: 300px;">
                <div class="col card">
                    <div class="card-content">
                        <p>Дали навистина сакате да го избришите средството од нов попис ?</p>
                        <button class="btn btn-danger" id="btnNoDelete">Не</button>
                        <button class="btn btn-primary" id="btnYesDelete">Да</button>
                    </div>
                </div>
            </div>
            </div>
            <div id="alertError" style="display: none;position: absolute;z-index: 15;top: 35%;
            left: 50%; margin: -100px 0 0 -150px;">
            <div class="card-container" style="width: 300px;">
                <div class="col card">
                    <div class="card-content">
                        <p>Немате внесено во попис нов или немате вчитано фајл со средства од диск</p>
                        <button class="btn btn-primary" id="closeError">Затвори</button>
                    </div>
                </div>
            </div>
            </div>
            <div id="alertScanner" style="display: none;position: absolute;z-index: 15;top: 35%;
            left: 50%; margin: -100px 0 0 -150px;">
            <div class="card-container" style="width: 300px;">
                <div class="col card">
                    <div class="card-content">
                        <p>Неуспешно скенирање: Не легален пристап</p>
                        <button class="btn btn-primary" id="closeScanError">Затвори</button>
                    </div>
                </div>
            </div>
            </div>
            <div class="row card-container" id="Reviews" style="display: none;position:relative;right:5px">
                <div class="col card">
                    <div class="card-content">
                              <h3 id="yearReview"></h3>
                              <div class="containerSearch"> 
                                <input type="text" id="searchVal" class="form-control" style="margin-left: 10px;" placeholder="Пребарување">
                                <button class="btn btn-success" id="btnPorductSearch">Пребарај</button>   
                                <button class="btn btn-warning" id="btnProductClear">Исчисти</button>
                              </div>
                        <hr/>
                         <div class="table-responsive" style=" height:400px;overflow:auto;" id="tableProducts">
                            <table class="table table-striped" id="productsTable">
                                <thead>
                                    <tr>
                                        <th>Шифра</th>
                                        <th>Назив</th>
                                        <th>Локација</th>
                                    </tr>
                                 </thead>
                                  <tbody>
                                 </tbody>
                             </table>
                          </div>  
                        </div>
                    </div>
                </div>
         </div>
         <div class="row card-container" id="ReviewsNew" style="display: none;position:relative;right:5px">
            <div class="col card">
                <div class="card-content">
                    <div id="resultReviewsNew"></div>
                    <h3>Преглед - Попис нов Листа</h3>
                    <div class="containerSearch"> 
                        <input type="text" id="searchNewVal" class="form-control" style="margin-left: 10px;" placeholder="Пребарување">
                        <button class="btn btn-success" id="btnPorductNewSearch">Пребарај</button>   
                        <button class="btn btn-warning" id="btnProductNewClear">Исчисти</button>
                    </div>
                    <hr/>
                     <div class="table-responsive" style=" height:400px;overflow:auto;">
                        <table class="table table-striped" id="productsNewTable">
                            <thead>
                                <tr>
                                    <th>Шифра</th>
                                    <th>Назив</th>
                                    <th>Локација код</th>
                                    <th>Локација Назив</th>
                                    <th>Датум</th>
                                    <th>Промени Локација</th>
                                    <th>Избриши</th>
                                </tr>
                             </thead>
                              <tbody>
                             </tbody>
                         </table>
                      </div>  
                    </div>
                </div>
            </div>
     </div>
    </div>
</div>
        <!-- <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> -->
        <script src="cordova.js"></script>
        <script src="js/index.js"></script>
        <script>
           // fileWithOpener("ssss");
            var customDialog = document.getElementById('custom-dialog');
            var btnLoad = document.getElementById('btnLoad');
            var btnReview = document.getElementById('btnReview');
            var btnReset = document.getElementById('btnReset');
            var btnSaveOnDisk = document.getElementById('btnSaveOnDisk');
            var btnSretstva = document.getElementById('btnSretstva');
            var btnClose = document.getElementById('btnClose');
            var customdDialogIsertNew = document.getElementById("custom-dialogIsert");
            var btnLoadLocations = document.getElementById('btnLoadLocations');
    
            
            btnLoad.addEventListener('click', function() {
                fileWithOpener('products')
              document.getElementById("Reviews").style.display = "none";
              document.getElementById("homePage").style.display = "block";
              document.getElementById("custom-dialog").style.display = "none";
            });


            btnLoadLocations.addEventListener('click', function() {
                fileWithOpener('locations')
                document.getElementById("Reviews").style.display = "none";
                document.getElementById("homePage").style.display = "block";
                document.getElementById("custom-dialog").style.display = "none";
              });
            
            btnReview.addEventListener('click', function() {
                customDialog.style.display = 'none';
                document.getElementById("Reviews").style.display = "block";
                document.getElementById("homePage").style.display = "none";
                displayProducts();
            });

            btnClose.addEventListener('click', function() {
                customDialog.style.display = 'none';
                document.getElementById("homePage").style.display = "block";
            });


            btnSretstva.addEventListener('click', function() {
                customDialog.style.display = 'none';
                document.getElementById("homePage").style.display = "block";
                document.getElementById("Reviews").style.display = "none";
            });

            
            function showDiafileWithOplog() {
                customDialog.style.display = 'block';
            }
            document.getElementById("btnInsertNew").addEventListener('click', function() {
                document.getElementById("menuToShow").style.display = "none";
                document.getElementById("homePage").style.display = "none";
                customdDialogIsertNew.style.display = "block";
                displayLocations()
            });

            
        </script>
    </body>
</html>